(function(){const d=document.createElement("link").relList;if(d&&d.supports&&d.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))f(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const p of r.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&f(p)}).observe(document,{childList:!0,subtree:!0});function b(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function f(t){if(t.ep)return;t.ep=!0;const r=b(t);fetch(t.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{gsap.registerPlugin(ScrollTrigger);const T=new Lenis({duration:1.2,easing:e=>Math.min(1,1.001-Math.pow(2,-10*e)),direction:"vertical",smooth:!0});function d(e){T.raf(e),requestAnimationFrame(d)}requestAnimationFrame(d),(()=>{const e=document.getElementById("hero-canvas");if(!e)return;const a=new THREE.Scene,n=new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,.1,1e3),i=new THREE.WebGLRenderer({canvas:e,alpha:!0,antialias:!0});i.setSize(window.innerWidth,window.innerHeight),i.setPixelRatio(Math.min(window.devicePixelRatio,2));const l=new THREE.BufferGeometry,m=1500,u=new Float32Array(m*3);for(let c=0;c<m*3;c++)u[c]=(Math.random()-.5)*18;l.setAttribute("position",new THREE.BufferAttribute(u,3));const s=new THREE.PointsMaterial({size:.04,color:3900150,transparent:!0,opacity:.8}),o=new THREE.Points(l,s);a.add(o),n.position.z=4;let h=0,L=0,x=window.innerWidth/2,H=window.innerHeight/2;document.addEventListener("mousemove",c=>{h=(c.clientX-x)/100,L=(c.clientY-H)/100});const I=new THREE.Clock,S=()=>{const c=I.getElapsedTime();o.rotation.y=c*.05,o.rotation.x=L*.05,o.rotation.y+=h*.05,i.render(a,n),requestAnimationFrame(S)};S(),window.addEventListener("resize",()=>{x=window.innerWidth/2,H=window.innerHeight/2,n.aspect=window.innerWidth/window.innerHeight,n.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)})})(),gsap.timeline().from(".hero__title",{opacity:0,y:60,duration:1,ease:"power3.out"}).from(".hero__desc",{opacity:0,y:30,duration:1,ease:"power3.out"},"-=0.6").from(".hero__btns",{opacity:0,y:20,duration:.8,ease:"power3.out"},"-=0.6").from(".hero__badge",{opacity:0,scale:.8,duration:.5},"-=1"),document.querySelectorAll("section:not(.hero):not(.about)").forEach(e=>{gsap.from(e.children,{scrollTrigger:{trigger:e,start:"top 80%",toggleActions:"play none none reverse"},y:50,opacity:0,duration:.8,stagger:.1,ease:"power2.out"})}),document.querySelector(".about")&&(gsap.from(".about__content",{scrollTrigger:{trigger:".about",start:"top 75%"},x:-50,opacity:0,duration:1,ease:"power3.out"}),gsap.from(".about__visual",{scrollTrigger:{trigger:".about",start:"top 75%"},x:50,opacity:0,duration:1,delay:.2,ease:"power3.out"}),gsap.from(".about__card",{scrollTrigger:{trigger:".about",start:"top 60%"},y:30,opacity:0,duration:.8,delay:.8,ease:"back.out(1.7)"})),document.querySelectorAll(".stat__num").forEach(e=>{const a=e.getAttribute("data-val"),n=parseInt(a,10);gsap.to(e,{scrollTrigger:{trigger:e,start:"top 85%"},innerText:n,duration:2.5,snap:{innerText:1},ease:"power2.out",onUpdate:function(){e.innerHTML=Math.ceil(this.targets()[0].innerText)}})});const g=document.getElementById("contactForm");if(g){const e=document.getElementById("phone"),a=document.getElementById("phoneError"),n=document.getElementById("formMessage"),i=document.getElementById("captchaLabel"),l=document.getElementById("captchaInput"),m=document.getElementById("captchaResult"),u=()=>{const s=Math.floor(Math.random()*10),o=Math.floor(Math.random()*10);i.innerText=`Сколько будет ${s} + ${o}?`,m.value=s+o};u(),e.addEventListener("input",s=>{s.target.value=s.target.value.replace(/[^0-9+]/g,"")}),g.addEventListener("submit",s=>{if(s.preventDefault(),a.innerText="",n.innerText="",n.className="form__message",e.value.length<8){a.innerText="Пожалуйста, введите корректный номер (минимум 8 цифр).";return}if(parseInt(l.value)!==parseInt(m.value)){alert("Неверный результат примера."),l.value="",u();return}const o=g.querySelector('button[type="submit"]'),h=o.innerText;o.innerText="Отправка...",o.disabled=!0,setTimeout(()=>{n.innerText="Заявка успешно отправлена! Мы свяжемся с вами.",n.classList.add("success"),g.reset(),u(),o.innerText=h,o.disabled=!1,setTimeout(()=>{n.innerText=""},6e3)},1500)})}const y=document.getElementById("cookiePopup"),v=document.getElementById("cookieAccept");y&&!localStorage.getItem("digitraCookies")&&setTimeout(()=>{y.classList.add("show")},2500),v&&v.addEventListener("click",()=>{localStorage.setItem("digitraCookies","true"),y.classList.remove("show")});const w=document.querySelector(".header__burger"),_=document.body,E=document.querySelector(".header__container");if(w&&E){const e=document.createElement("div");e.classList.add("mobile-menu");const a=document.querySelector(".header__menu").innerHTML,n=document.querySelector(".header__actions .header__btn").cloneNode(!0);e.innerHTML=`
            <ul class="header__menu" style="flex-direction: column; align-items: center; gap: 24px; margin-top: 40px;">
                ${a}
            </ul>
        `;const i=document.createElement("div");i.style.marginTop="30px",i.appendChild(n),e.appendChild(i),E.parentNode.insertBefore(e,E.nextSibling),w.addEventListener("click",()=>{_.classList.toggle("menu-open"),e.classList.toggle("is-active"),w.querySelectorAll("span")}),e.querySelectorAll("a").forEach(l=>{l.addEventListener("click",()=>{_.classList.remove("menu-open"),e.classList.remove("is-active")})})}});
//# sourceMappingURL=main-FgJJr5Qk.js.map
