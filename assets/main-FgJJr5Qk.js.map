{"version":3,"file":"main-FgJJr5Qk.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    /* --- 1. CONFIG & INIT --- */\n    gsap.registerPlugin(ScrollTrigger);\n\n    // Initialize Lenis (Smooth Scroll)\n    const lenis = new Lenis({\n        duration: 1.2,\n        easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n        direction: 'vertical',\n        smooth: true,\n    });\n\n    function raf(time) {\n        lenis.raf(time);\n        requestAnimationFrame(raf);\n    }\n    requestAnimationFrame(raf);\n\n    /* --- 2. THREE.JS HERO ANIMATION --- */\n    const initThreeHero = () => {\n        const canvas = document.getElementById('hero-canvas');\n        if (!canvas) return;\n\n        const scene = new THREE.Scene();\n        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n        const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true, antialias: true });\n\n        renderer.setSize(window.innerWidth, window.innerHeight);\n        renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));\n\n        // Create Particles\n        const particlesGeometry = new THREE.BufferGeometry();\n        const count = 1500;\n        const posArray = new Float32Array(count * 3);\n\n        for (let i = 0; i < count * 3; i++) {\n            posArray[i] = (Math.random() - 0.5) * 18; // Spread\n        }\n\n        particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));\n\n        const material = new THREE.PointsMaterial({\n            size: 0.04,\n            color: 0x3b82f6, // Brand Blue\n            transparent: true,\n            opacity: 0.8,\n        });\n\n        const particlesMesh = new THREE.Points(particlesGeometry, material);\n        scene.add(particlesMesh);\n        camera.position.z = 4;\n\n        // Mouse Interaction\n        let mouseX = 0;\n        let mouseY = 0;\n        \n        // Window Half\n        let windowHalfX = window.innerWidth / 2;\n        let windowHalfY = window.innerHeight / 2;\n\n        document.addEventListener('mousemove', (event) => {\n            mouseX = (event.clientX - windowHalfX) / 100;\n            mouseY = (event.clientY - windowHalfY) / 100;\n        });\n\n        // Animation Loop\n        const clock = new THREE.Clock();\n        const animate = () => {\n            const elapsedTime = clock.getElapsedTime();\n\n            // Constant gentle rotation\n            particlesMesh.rotation.y = elapsedTime * 0.05;\n            particlesMesh.rotation.x = mouseY * 0.05;\n            particlesMesh.rotation.y += mouseX * 0.05;\n\n            renderer.render(scene, camera);\n            requestAnimationFrame(animate);\n        };\n        animate();\n\n        // Resize Handler\n        window.addEventListener('resize', () => {\n            windowHalfX = window.innerWidth / 2;\n            windowHalfY = window.innerHeight / 2;\n            camera.aspect = window.innerWidth / window.innerHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(window.innerWidth, window.innerHeight);\n        });\n    };\n    initThreeHero();\n\n    /* --- 3. GSAP ANIMATIONS --- */\n    \n    // 3.1 Hero Reveal\n    const heroTl = gsap.timeline();\n    heroTl.from(\".hero__title\", { opacity: 0, y: 60, duration: 1, ease: \"power3.out\" })\n          .from(\".hero__desc\", { opacity: 0, y: 30, duration: 1, ease: \"power3.out\" }, \"-=0.6\")\n          .from(\".hero__btns\", { opacity: 0, y: 20, duration: 0.8, ease: \"power3.out\" }, \"-=0.6\")\n          .from(\".hero__badge\", { opacity: 0, scale: 0.8, duration: 0.5 }, \"-=1\");\n\n    // 3.2 Generic Section Reveal (Excluding About & Hero)\n    const sections = document.querySelectorAll('section:not(.hero):not(.about)');\n    sections.forEach(section => {\n        gsap.from(section.children, {\n            scrollTrigger: {\n                trigger: section,\n                start: \"top 80%\",\n                toggleActions: \"play none none reverse\"\n            },\n            y: 50,\n            opacity: 0,\n            duration: 0.8,\n            stagger: 0.1,\n            ease: \"power2.out\"\n        });\n    });\n\n    // 3.3 SPECIFIC: About Us Section Animation\n    const aboutSection = document.querySelector('.about');\n    if (aboutSection) {\n        gsap.from(\".about__content\", {\n            scrollTrigger: { trigger: \".about\", start: \"top 75%\" },\n            x: -50,\n            opacity: 0,\n            duration: 1,\n            ease: \"power3.out\"\n        });\n        \n        gsap.from(\".about__visual\", {\n            scrollTrigger: { trigger: \".about\", start: \"top 75%\" },\n            x: 50,\n            opacity: 0,\n            duration: 1,\n            delay: 0.2,\n            ease: \"power3.out\"\n        });\n\n        gsap.from(\".about__card\", {\n            scrollTrigger: { trigger: \".about\", start: \"top 60%\" },\n            y: 30,\n            opacity: 0,\n            duration: 0.8,\n            delay: 0.8,\n            ease: \"back.out(1.7)\"\n        });\n    }\n\n    // 3.4 Number Counters (Innovation Section)\n    const stats = document.querySelectorAll('.stat__num');\n    stats.forEach(stat => {\n        const rawVal = stat.getAttribute('data-val'); // e.g. \"98\"\n        const endVal = parseInt(rawVal, 10);\n        \n        gsap.to(stat, {\n            scrollTrigger: { trigger: stat, start: \"top 85%\" },\n            innerText: endVal,\n            duration: 2.5,\n            snap: { innerText: 1 },\n            ease: \"power2.out\",\n            onUpdate: function() {\n                // Ensure no decimals during animation\n                stat.innerHTML = Math.ceil(this.targets()[0].innerText);\n            }\n        });\n    });\n\n    /* --- 4. FORM LOGIC --- */\n    const form = document.getElementById('contactForm');\n    if (form) {\n        const phoneInput = document.getElementById('phone');\n        const phoneError = document.getElementById('phoneError');\n        const messageBox = document.getElementById('formMessage');\n        const captchaLabel = document.getElementById('captchaLabel');\n        const captchaInput = document.getElementById('captchaInput');\n        const captchaResult = document.getElementById('captchaResult');\n\n        // Math Captcha\n        const generateCaptcha = () => {\n            const n1 = Math.floor(Math.random() * 10);\n            const n2 = Math.floor(Math.random() * 10);\n            captchaLabel.innerText = `Сколько будет ${n1} + ${n2}?`;\n            captchaResult.value = n1 + n2;\n        };\n        generateCaptcha();\n\n        // Phone Input Mask (Digits only)\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n        });\n\n        // Submit Handler\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            phoneError.innerText = '';\n            messageBox.innerText = '';\n            messageBox.className = 'form__message';\n\n            // Validate Phone\n            if (phoneInput.value.length < 8) {\n                phoneError.innerText = 'Пожалуйста, введите корректный номер (минимум 8 цифр).';\n                return;\n            }\n\n            // Validate Captcha\n            if (parseInt(captchaInput.value) !== parseInt(captchaResult.value)) {\n                alert('Неверный результат примера.');\n                captchaInput.value = '';\n                generateCaptcha();\n                return;\n            }\n\n            // Simulate AJAX\n            const btn = form.querySelector('button[type=\"submit\"]');\n            const originalText = btn.innerText;\n            btn.innerText = 'Отправка...';\n            btn.disabled = true;\n\n            setTimeout(() => {\n                messageBox.innerText = 'Заявка успешно отправлена! Мы свяжемся с вами.';\n                messageBox.classList.add('success');\n                form.reset();\n                generateCaptcha();\n                btn.innerText = originalText;\n                btn.disabled = false;\n\n                setTimeout(() => { messageBox.innerText = ''; }, 6000);\n            }, 1500);\n        });\n    }\n\n    /* --- 5. COOKIE POPUP --- */\n    const cookiePopup = document.getElementById('cookiePopup');\n    const cookieBtn = document.getElementById('cookieAccept');\n\n    if (cookiePopup && !localStorage.getItem('digitraCookies')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('show');\n        }, 2500);\n    }\n\n    if (cookieBtn) {\n        cookieBtn.addEventListener('click', () => {\n            localStorage.setItem('digitraCookies', 'true');\n            cookiePopup.classList.remove('show');\n        });\n    }\n\n    /* --- 6. MOBILE MENU --- */\n    const burger = document.querySelector('.header__burger');\n    const body = document.body;\n    const headerContainer = document.querySelector('.header__container');\n\n    // Create menu dynamically to keep HTML clean\n    if (burger && headerContainer) {\n        const mobileMenu = document.createElement('div');\n        mobileMenu.classList.add('mobile-menu');\n        \n        const navContent = document.querySelector('.header__menu').innerHTML;\n        const btnContent = document.querySelector('.header__actions .header__btn').cloneNode(true);\n        \n        mobileMenu.innerHTML = `\n            <ul class=\"header__menu\" style=\"flex-direction: column; align-items: center; gap: 24px; margin-top: 40px;\">\n                ${navContent}\n            </ul>\n        `;\n        // Append cloned button\n        const btnContainer = document.createElement('div');\n        btnContainer.style.marginTop = '30px';\n        btnContainer.appendChild(btnContent);\n        mobileMenu.appendChild(btnContainer);\n\n        headerContainer.parentNode.insertBefore(mobileMenu, headerContainer.nextSibling);\n\n        burger.addEventListener('click', () => {\n            body.classList.toggle('menu-open');\n            mobileMenu.classList.toggle('is-active');\n            \n            // Toggle burger animation\n            const spans = burger.querySelectorAll('span');\n            // CSS handles the span animation based on body class, \n            // but we ensure logic flows here.\n        });\n\n        // Close menu on link click\n        mobileMenu.querySelectorAll('a').forEach(link => {\n            link.addEventListener('click', () => {\n                body.classList.remove('menu-open');\n                mobileMenu.classList.remove('is-active');\n            });\n        });\n    }\n});"],"names":["lenis","t","raf","time","canvas","scene","camera","renderer","particlesGeometry","count","posArray","i","material","particlesMesh","mouseX","mouseY","windowHalfX","windowHalfY","event","clock","animate","elapsedTime","section","stat","rawVal","endVal","form","phoneInput","phoneError","messageBox","captchaLabel","captchaInput","captchaResult","generateCaptcha","n1","n2","e","btn","originalText","cookiePopup","cookieBtn","burger","body","headerContainer","mobileMenu","navContent","btnContent","btnContainer","link"],"mappings":"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"}